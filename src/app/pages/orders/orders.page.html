<ion-header [translucent]="true"class="bar bar-header bar-positive title">
  <ion-toolbar class="toolbar-background">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  <ion-title class="main" >   
    <ion-grid>
    <ion-row>
      <ion-col size="10">Orders</ion-col>
    </ion-row>
  </ion-grid>
</ion-title>
</ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <div class="container">
    <ion-grid>
      <ion-row class="ion-justify-content-center" width="100%" center no-padding>
        <ion-col *ngIf="Orders.length === 0" class="nodata">
          <ion-label class="nodata">No any order is registered</ion-label>
        </ion-col>
        <ion-col *ngFor="let order of Orders" sizeXl="4" sizeLg="4" sizeMd="6" sizeSm="6" sizeXs="12" no-padding>
          <ion-card style=" min-width: 305px;"> 
            <ion-card-header [ngClass]="{'buy' : order.side == 'Buy', 'sell': order.side == 'Sell'}">
            <ion-card-title class="cardtitle" >
              <ion-label class="ion-float-left">{{order.ordType}}</ion-label>
              <ion-label class="ion-float-right" *ngIf="order.ordStatus !== 'Canceled'">{{order.ordStatus}}</ion-label>
            </ion-card-title>
            </ion-card-header>
            <ion-card-content >
              <ion-grid>
                <ion-row>
                  <ion-col size="2"><ion-label>{{order.side}}</ion-label></ion-col>
                  <ion-col size="2">
                    <button class="ion-float-right" *ngIf="order.ordStatus !== 'Canceled'"  (click)="handleRemoveQty(order.orderID)">
                      <ion-icon name="remove-circle" color="secondary"></ion-icon>
                    </button>
                  </ion-col>
                  <ion-col size="4">
                    <ion-input *ngIf="order.ordStatus !== 'Canceled'" text-center type="number" step="5">{{order.orderQty}}</ion-input>
                    <ion-label *ngIf="order.ordStatus === 'Canceled'" >{{order.orderQty}}</ion-label>
                  </ion-col>

                  <ion-col size="2">
                    <button class="ion-float-left" *ngIf="order.ordStatus !== 'Canceled'"  (click)="handleAddQty(order.orderID)">
                      <ion-icon name="add-circle" color="secondary"></ion-icon>
                    </button>
                  </ion-col> 
                  <ion-col size="2"><ion-label>{{order.currency}} </ion-label></ion-col>
                </ion-row>
                <ion-row>
                  <ion-col size="2"><ion-label>at</ion-label></ion-col>
                  <ion-col size="2">
                    <button class="ion-float-right" *ngIf="order.ordStatus !== 'Canceled'" >
                      <ion-icon name="remove-circle" color="secondary"></ion-icon>
                    </button>
                  </ion-col>
                  <ion-col size="4">
                     <ion-input *ngIf="order.ordStatus !== 'Canceled'" text-center type="number" step="5">{{order.avgPx}}{{order.avgPx}}{{order.stopPx}}</ion-input>
                     <ion-label *ngIf="order.ordStatus === 'Canceled'" >{{order.avgPx}}{{order.avgPx}}{{order.stopPx}}</ion-label>
                  </ion-col> 
                  <ion-col size="2">
                    <button class="ion-float-left" *ngIf="order.ordStatus !== 'Canceled'" (click)="handleAddPrice(order.orderID)">
                      <ion-icon name="add-circle" color="secondary"></ion-icon>
                    </button>
                  </ion-col> 
                  <ion-col size="2"></ion-col>
                </ion-row>
                <ion-row>
                  <ion-col size="6"><ion-label  class="time">{{order.runingTime}}</ion-label></ion-col>
                  <ion-col size="6"><ion-label  class="time">{{order.delta}}</ion-label></ion-col>
                </ion-row>
              </ion-grid>
            </ion-card-content>
            <ion-footer>
              <ion-row *ngIf="order.ordStatus !== 'Canceled'">
                <ion-col center text-center>
                  <button class="ion-float-left">
                    <ion-icon name="checkmark-circle" color="success"></ion-icon>
                  </button>
                </ion-col>
                <ion-col center text-center>
                  <button class="ion-float-right">
                    <ion-icon name="close-circle" color="danger" (click)="handleCancel(order.orderID)"></ion-icon>
                  </button>
                </ion-col>
              </ion-row>
              <ion-row *ngIf="order.ordStatus === 'Canceled'">
                <ion-col >
                  <button class="ion-float-left">
                    <ion-icon name="arrow-forward-circle" color="success"></ion-icon>
                  </button>
                </ion-col>
                <ion-col class="canceled" >
                   <ion-label >{{order.ordStatus}}</ion-label>
                </ion-col>
                <ion-col >
                  <button class="ion-float-right">
                    <ion-icon name="trash" color="danger" (click)="handleTrash(order.orderID)"></ion-icon>
                  </button>
                </ion-col>
              </ion-row>
            </ion-footer>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

  </div>
</ion-content>
